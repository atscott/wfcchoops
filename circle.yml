dependencies:
  pre:
    - npm install -g npm
    - npm install @angular/tsc-wrapped autoprefixer enhanced-resolve loader-utils firebase-tools postcss-loader @ngtools/webpack reflect-metadata
  post:
    - ng build --env=prod
test:
  post:
    - bash <(curl -s https://codecov.io/bash)
general:
  artifacts:
    - "dist"
deployment:
  production:
    branch: master
    commands:
      - ./deploy_prod.sh
  test:
    branch: ngcli_history
    commands:
      - firebase deploy --token=$FIREBASE_TOKEN --project=wfcchoops-f84d0 --non-interactive
